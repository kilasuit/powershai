---
external help file: powershai-help.xml
schema: 2.0.0
powershai: true
---

# Send-GradioApi

## SYNOPSIS <!--!= @#Synop !-->


## DESCRIPTION <!--!= @#Desc !-->
Sends data to a Gradio and returns an object representing the event!
Pass this object to other cmdlets to get the results.

HOW THE GRADIO API WORKS

	Based on: https://www.gradio.app/guides/querying-gradio-apps-with-curl
	
	To better understand how to use this cmdlet, it is important to understand how the Gradio API works.  
	When we invoke an API endpoint, it does not return the data immediately.  
	This is due to the simple fact that processing is extensive, due to the nature (AI and Machine Learning).  
	
	So, instead of returning the result, or waiting indefinitely, Gradio returns an "Event Id".  
	With this event, we can periodically get the generated results.  
	Gradio will generate event messages with the data that was generated. We need to pass the generated EventId to get the new chunks generated.
	These events are sent via Server Side Events (SSE), and can be one of these:
		- hearbeat 
		Every 15 seconds, Gradio will send this event to keep the connection alive.  
		This is why, when using the Update-GradioApiResult cmdlet, it may take a while to return.
		
		- complete 
		It is the last message sent by Gradio when the data has been successfully generated!
		
		- error 
		Sent when there was an error during processing.  
		
		- generating
		It is generated when the API already has data available, but more may still come.
	
	Here in PowershAI, we have also separated this into 3 parts: 
		- This cmdlet (Send-GradioApi) makes the initial request to Gradio and returns an object that represents the event (let's call it a GradioApiEvent object)
		- This resulting object, of type GradioApiEvent, contains everything you need to query the event and it also stores the data and errors obtained.
		- Finally, we have the Update-GradioApiResult cmdlet, where you must pass the generated event, and it will query the Gradio API and get the new data.  
			Check the help for this cmdlet for more information on how to control this data fetching mechanism.
			
	
	So, in a normal workflow, you should do the following: 
	
		# Invoke the Gradio endpoint!
		$MyEvent = SEnd-GradioApi ... 
	
		# Get results until they are finished!
		# Check the help for this cmdlet to learn more!
		$MyEvent | Update-GradioApiResult
		
GradioApiEvent Object

	The resulting GradioApiEvent object from this cmdlet contains everything PowershAI needs to control the mechanism and get the data.  
	It is important that you know its structure so that you know how to collect the data generated by the API.
	Properties:
	
		- Status  
		Indicates the status of the event. 
		When this status is "complete", it means that the API has finished processing and all possible data has already been generated.  
		As long as it is different from this, you should invoke Update-GradioApiResult so that it checks the status and updates the information. 
		
		- QueryUrl  
		Internal value containing the exact endpoint for the query of the results
		
		- data  
		An array containing all the generated response data. Each time you invoke Update-GradioApiResult, if there is data, it will add to this array.  
		
		- events  
		List of events that were generated by the server. 
		
		- error  
		If there were errors in the response, this field will contain some object, string, etc., describing more details.
		
		- LastQueryStatus  
		Indicates the status of the last query to the API.  
		If "normal", it indicates that the API was queried and returned to the end normally.
		If "HeartBeatExpired", it indicates that the query was interrupted due to the hearbeat timeout configured by the user in the Update-GradioApiResult cmdlet
		
		- req 
		Request data made!

## SYNTAX <!--!= @#Syntax !-->

```
Send-GradioApi [[-AppUrl] <Object>] [[-ApiName] <Object>] [[-Params] <Object>] [[-SessionHash] <Object>] [[-EventId] <Object>] [[-token] <Object>] [<CommonParameters>]
```

## PARAMETERS <!--!= @#Params !-->

### -AppUrl

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 1
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -ApiName

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 2
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -Params

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 3
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -SessionHash

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 4
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -EventId
If informed, it does not call the API, but creates the object and uses this value as if it were the return

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 5
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -token

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 6
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```




<!--PowershaiAiDocBlockStart-->
_Automatically translated using PowershAI and AI_
<!--PowershaiAiDocBlockEnd-->
